# Day 24 练习题：数据分析项目（上）
> 要求：跟随课件完成数据准备和基本分析
>

---

## 练习 1：搭建项目
```plain
按照课件步骤，完成以下任务：

1. 创建项目文件夹结构
   movie_analysis/
   ├── data/
   └── output/

2. 确认文件夹创建成功

提示：使用 os.makedirs()
```

---

## 练习 2：准备数据
```plain
运行课件中的数据生成代码：

1. 生成 250 条电影数据
2. 保存到 data/movies.csv
3. 查看数据前 5 行，确认数据正确

思考问题：
- 数据有哪些列？
- 每列是什么含义？
- 数据类型分别是什么？
```

---

## 练习 3：检查数据质量
```plain
检查数据中的问题：

1. 检查缺失值
   - 哪些列有缺失？
   - 各有多少个？

2. 检查异常值
   - 评分有没有超出 0-10 范围？
   - 年份有没有不合理的？

3. 记录发现的问题（写在下面）

我发现的问题：
- 缺失值：_______________
- 异常评分：_______________
- 异常年份：_______________
```

---

## 练习 4：数据清洗
```plain
清洗数据，处理发现的问题：

1. 删除含有缺失值的行
2. 删除评分异常的行
3. 删除年份异常的行
4. 确认数据类型正确
5. 保存清洗后的数据到 movies_cleaned.csv

完成后回答：
- 清洗前有多少条数据？___
- 清洗后有多少条数据？___
- 删除了多少条？___
```

---

## 练习 5：基本统计分析
```plain
对清洗后的数据进行统计分析：

1. 整体统计
   - 电影总数：___
   - 平均评分：___
   - 最高评分：___
   - 最低评分：___

2. 按类型分组
   - 哪个类型电影最多？___
   - 哪个类型平均评分最高？___

3. 按国家分组
   - 哪个国家电影最多？___
   - 哪个国家平均评分最高？___

4. 将结果保存到 output/day24_stats.txt
```

---

## 练习 6：代码整理
```plain
将今天的代码整理成一个完整的脚本：

创建文件：movie_analysis/analysis_day24.py

内容包括：
1. 导入必要的库
2. 加载数据的函数
3. 清洗数据的函数
4. 统计分析的函数
5. 主函数调用以上函数

参考结构：
```

```python
import pandas as pd
import numpy as np
import os

def load_data(filepath):
    """加载数据"""
    df = pd.read_csv(filepath)
    print(f'加载数据: {len(df)} 条')
    return df

def clean_data(df):
    """清洗数据"""
    # 你的清洗代码
    return df

def analyze_data(df):
    """统计分析"""
    # 你的分析代码
    pass

def main():
    # 加载
    df = load_data('data/movies.csv')

    # 清洗
    df = clean_data(df)

    # 分析
    analyze_data(df)

    print('Day 24 分析完成！')

if __name__ == '__main__':
    main()
```

---

## 完成检查
- [ ] 项目文件夹结构创建完成
- [ ] 数据文件生成成功
- [ ] 完成数据质量检查
- [ ] 完成数据清洗
- [ ] 完成基本统计分析
- [ ] 保存了统计结果
- [ ] 代码整理成脚本

---

## 遇到问题？

```
问题1: pd.read_csv 报错找不到文件
解决: 检查文件路径是否正确，注意当前工作目录

问题2: groupby 结果看不懂
解决: 先看简单的例子
      df.groupby('genre')['rating'].mean()
      这会返回每个类型的平均评分

问题3: 不知道该删除还是填充缺失值
解决: 数据量大就删除，数据量小就填充
      我们有 250 条，删几条没关系

问题4: 代码报错 KeyError
解决: 检查列名是否拼写正确，区分大小写
```

---

## 明天继续

今天完成了数据准备和基本分析，明天我们将：
- 创建 4 种可视化图表
- 组合成数据看板
- 撰写分析报告

**请保存好今天的代码和数据文件！**
